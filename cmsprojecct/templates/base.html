{% extends "bootstrap5/base.html" %}
{% load cms_tags menu_tags sekizai_tags %}

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css"/>
<title>{% block title %}My Website{% endblock title %}</title>
<style type="text/css">
.nav {
padding-left: 0;
}
.nav li {
display: inline;
list-style-type: none;
padding-right: 20px;
}
.container {
width: 940px;
margin: 0 auto;
}
.content {
width: 80%;
float: left;
}
.sidebar {
width: 20%;
float: left;
}

/* --- Reels grid --- */
.reels-container {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
  padding: 20px;
  align-items: start;
  width: 100%;
  box-sizing: border-box;
}

/* ensure each plugin is full width inside its grid cell */
.reel {
  width: 100%;
  box-sizing: border-box;
  margin: 0;
}

/* the embed wrapper */
.reel .embed-code {
  width: 100% !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
}

/* Force many possible embed elements to be fluid */
.reel blockquote.instagram-media,
.reel blockquote.instagram-media *,
.reel .tiktok-embed,
.reel .tiktok-embed *,
.reel iframe,
.reel iframe * {
  width: 100% !important;
  max-width: 100% !important;
  min-width: 0 !important;
  box-sizing: border-box !important;
}

/* override Instagram's inline calc() width/padding/margins */
.reel blockquote.instagram-media[style] {
  width: 100% !important;
  max-width: 100% !important;
  min-width: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* make embed children centered and block-level */
.reel .embed-code > * {
  display: block;
  margin: 0 auto;
}

/* responsive breakpoints */
@media (max-width: 900px) {
  .reels-container { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 600px) {
  .reels-container { grid-template-columns: 1fr; }
}
</style>
{% render_block "css" %}
</head>
<body>
{% cms_toolbar %}
<div class="container">
<ul class="nav">
<li><a href="/">Home Page</a></li>
<li><a href="/en/terms-of-service/">Terms of Service</a></li>
<li><a href="/en/privacy-policy/">Privacy Policy</a></li>

{% if request.user.is_authenticated %}
<li><a href="/en/employees/">Employees</a></li>
<li><a href="/en/currency-calculator/">Currency Calculator</a></li>
{% endif %}
</ul>

{% block content %}
{% placeholder "content" %}
{% endblock content %}
</div>

{% render_block "js" %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
<!-- Instagram & TikTok embed scripts (include once on the page) -->
<script async src="//www.instagram.com/embed.js"></script>
<script async src="https://www.tiktok.com/embed.js"></script>

<script>
document.addEventListener('DOMContentLoaded', function () {
  // re-run Instagram processing if available
  try {
    if (window.instgrm && instgrm.Embeds && typeof instgrm.Embeds.process === 'function') {
      instgrm.Embeds.process();
    }
  } catch(e) { console.warn('Instagram embeds init error', e); }

  // TikTok embed script usually auto-inits; if you need to re-trigger something,
  // the script itself will handle it in most cases.
});
</script>
</body>
</html>